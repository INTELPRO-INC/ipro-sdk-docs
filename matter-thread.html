---
layout: default
title: Matter & Thread é–‹ç™¼æŒ‡å—
---

<div class="doc-layout">
    <aside class="doc-sidebar">
        <nav class="sidebar-nav">
            <h4 class="sidebar-title">æœ¬é ç›®éŒ„</h4>
            <ul class="sidebar-links">
                <li><a href="#overview" class="sidebar-link">æ¦‚è¿°</a></li>
                <li><a href="#matter-architecture" class="sidebar-link">Matter æ¶æ§‹</a></li>
                <li><a href="#matter-over-thread" class="sidebar-link">Matter over Thread</a></li>
                <li><a href="#matter-over-wifi" class="sidebar-link">Matter over WiFi</a></li>
                <li><a href="#openthread" class="sidebar-link">OpenThread</a></li>
                <li><a href="#reference-apps" class="sidebar-link">åƒè€ƒæ‡‰ç”¨</a></li>
                <li><a href="#configuration" class="sidebar-link">é…ç½®èªªæ˜</a></li>
                <li><a href="#dev-workflow" class="sidebar-link">é–‹ç™¼æµç¨‹</a></li>
            </ul>
        </nav>
    </aside>

    <article class="doc-content">
        <h1>Matter & Thread é–‹ç™¼æŒ‡å—</h1>
        <p>IPRO SDK æ”¯æ´ Matter 1.4 çµ±ä¸€æ™ºæ…§å®¶åº­å”å®šä»¥åŠ Thread 1.2 ä½åŠŸè€—ç¶²ç‹€ç¶²è·¯ï¼Œè®“æ‚¨çš„è£ç½®èƒ½å¤ èˆ‡ Apple Homeã€Google Homeã€Amazon Alexa ç­‰ç”Ÿæ…‹ç³»çµ±ç„¡ç¸«äº’é€šã€‚</p>

        <section id="overview">
            <h2>æ¦‚è¿°</h2>
            <p>Matter æ˜¯ç”± Connectivity Standards Alliance (CSA) æ¨å‹•çš„çµ±ä¸€æ™ºæ…§å®¶åº­æ¨™æº–ï¼Œæ—¨åœ¨è§£æ±ºç‰©è¯ç¶²è£ç½®ä¹‹é–“çš„äº’é€šæ€§å•é¡Œã€‚IPRO SDK æä¾›å®Œæ•´çš„ Matter èˆ‡ Thread æ”¯æ´ï¼š</p>

            <div class="features-grid" style="margin: 2rem 0;">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ </div>
                    <h3 class="feature-title">Matter 1.4</h3>
                    <ul style="margin-top: 1rem; color: var(--text-secondary);">
                        <li>CSA çµ±ä¸€æ™ºæ…§å®¶åº­æ¨™æº–</li>
                        <li>å¤šç”Ÿæ…‹ç³»çµ±äº’é€š</li>
                        <li>å®‰å…¨çš„è£ç½®é…ç¶²èˆ‡æ§åˆ¶</li>
                        <li>Data Model / Interaction Model</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ•¸ï¸</div>
                    <h3 class="feature-title">Thread 1.2</h3>
                    <ul style="margin-top: 1rem; color: var(--text-secondary);">
                        <li>IEEE 802.15.4 ä½åŠŸè€—ç¶²ç‹€ç¶²è·¯</li>
                        <li>è‡ªæˆ‘ä¿®å¾©æ‹“æ’²</li>
                        <li>IPv6 åŸç”Ÿæ”¯æ´</li>
                        <li>FTD / MTD / RCP è£ç½®é¡å‹</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“¶</div>
                    <h3 class="feature-title">å¤šå‚³è¼¸å±¤</h3>
                    <ul style="margin-top: 1rem; color: var(--text-secondary);">
                        <li>Matter over Threadï¼ˆä½åŠŸè€—ï¼‰</li>
                        <li>Matter over WiFiï¼ˆé«˜é »å¯¬ï¼‰</li>
                        <li>BLE é…ç¶²é€šé“</li>
                        <li>Border Router æ©‹æ¥</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="matter-architecture">
            <h2>Matter æ¶æ§‹</h2>
            <p>Matter å”å®šå»ºæ§‹åœ¨ IP ç¶²è·¯ä¹‹ä¸Šï¼Œé€é Thread æˆ– WiFi ä½œç‚ºå‚³è¼¸å±¤ï¼Œä¸¦ä½¿ç”¨ BLE é€²è¡Œè£ç½®é…ç¶²ï¼ˆCommissioningï¼‰ï¼š</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Matter å”å®šæ£§æ¶æ§‹</span>
                </div>
                <pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Application Layer              â”‚
â”‚     Lighting â”‚ Switch â”‚ Sensor          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Matter SDK (1.4)               â”‚
â”‚   Data Model â”‚ Interaction Model        â”‚
â”‚   Commissioning â”‚ Security (CASE/PASE)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Thread 1.2     â”‚      WiFi 6          â”‚
â”‚   (802.15.4)     â”‚    (802.11ax)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          BLE (Commissioning)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          IPRO7 Hardware                 â”‚
â”‚   802.15.4 Radio â”‚ WiFi â”‚ BLE Radio     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
            </div>

            <h3>Matter Data Model</h3>
            <p>Matter ä½¿ç”¨åˆ†å±¤å¼è³‡æ–™æ¨¡å‹ä¾†æè¿°è£ç½®åŠŸèƒ½ï¼š</p>

            <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                <thead>
                    <tr style="border-bottom: 2px solid var(--border-color);">
                        <th style="padding: 0.75rem; text-align: left;">æ¦‚å¿µ</th>
                        <th style="padding: 0.75rem; text-align: left;">èªªæ˜</th>
                        <th style="padding: 0.75rem; text-align: left;">ç¯„ä¾‹</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Node</strong></td>
                        <td style="padding: 0.75rem;">ä¸€å€‹å¯å®šå€çš„ Matter è£ç½®</td>
                        <td style="padding: 0.75rem;">ä¸€å€‹æ™ºæ…§ç‡ˆæ³¡</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Endpoint</strong></td>
                        <td style="padding: 0.75rem;">Node ä¸Šçš„åŠŸèƒ½å–®å…ƒ</td>
                        <td style="padding: 0.75rem;">Endpoint 0ï¼ˆRootï¼‰ã€Endpoint 1ï¼ˆLightï¼‰</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Cluster</strong></td>
                        <td style="padding: 0.75rem;">ä¸€çµ„ç›¸é—œåŠŸèƒ½çš„é›†åˆ</td>
                        <td style="padding: 0.75rem;">OnOffã€LevelControlã€ColorControl</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Attribute</strong></td>
                        <td style="padding: 0.75rem;">å¯è®€å¯«çš„ç‹€æ…‹å€¼</td>
                        <td style="padding: 0.75rem;">OnOff.onOffã€LevelControl.currentLevel</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Command</strong></td>
                        <td style="padding: 0.75rem;">å¯åŸ·è¡Œçš„æ“ä½œ</td>
                        <td style="padding: 0.75rem;">OnOff.Toggle()ã€LevelControl.MoveToLevel()</td>
                    </tr>
                </tbody>
            </table>

            <h3>Interaction Model</h3>
            <p>Matter è£ç½®ä¹‹é–“é€éä»¥ä¸‹äº¤äº’æ¨¡å¼é€šè¨Šï¼š</p>
            <ul>
                <li><strong>Read</strong> â€” è®€å–å±¬æ€§å€¼ï¼ˆä¾‹å¦‚ï¼šæŸ¥è©¢ç‡ˆæ³¡æ˜¯å¦é–‹å•Ÿï¼‰</li>
                <li><strong>Write</strong> â€” å¯«å…¥å±¬æ€§å€¼ï¼ˆä¾‹å¦‚ï¼šè¨­å®šäº®åº¦ç­‰ç´šï¼‰</li>
                <li><strong>Invoke</strong> â€” å‘¼å«å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼šToggle é–‹é—œï¼‰</li>
                <li><strong>Subscribe</strong> â€” è¨‚é–±å±¬æ€§è®ŠåŒ–é€šçŸ¥ï¼ˆä¾‹å¦‚ï¼šç›£è½æº«åº¦è®ŠåŒ–ï¼‰</li>
            </ul>

            <h3>é…ç¶²æµç¨‹ï¼ˆCommissioningï¼‰</h3>
            <p>Matter ä½¿ç”¨ BLE ä½œç‚ºé…ç¶²é€šé“ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
            <ol>
                <li>è£ç½®å•Ÿå‹•å¾Œé€²å…¥é…ç¶²æ¨¡å¼ï¼Œé–‹å§‹ BLE å»£æ’­</li>
                <li>æ‰‹æ©Ÿ App æƒæ QR Code æˆ–è¼¸å…¥é…å°ç¢¼</li>
                <li>é€šé PASEï¼ˆPasscode-Authenticated Session Establishmentï¼‰å»ºç«‹å®‰å…¨é€£ç·š</li>
                <li>App å°‡ Thread/WiFi ç¶²è·¯æ†‘è­‰å‚³é€è‡³è£ç½®</li>
                <li>è£ç½®åŠ å…¥ IP ç¶²è·¯ï¼Œå»ºç«‹ CASEï¼ˆCertificate-Authenticated Session Establishmentï¼‰</li>
                <li>è£ç½®è¢«åŠ å…¥ Matter Fabricï¼Œå¯ä»¥è¢«æ§åˆ¶</li>
            </ol>
        </section>

        <section id="matter-over-thread">
            <h2>Matter over Thread</h2>
            <p>Thread æ˜¯ç‚ºä½åŠŸè€—ç‰©è¯ç¶²è£ç½®è¨­è¨ˆçš„ç¶²ç‹€ç¶²è·¯å”å®šã€‚Matter over Thread é©åˆé›»æ± ä¾›é›»çš„æ„Ÿæ¸¬å™¨ã€é–‹é—œå’Œç‡ˆå…·ç­‰è£ç½®ã€‚</p>

            <div class="alert alert-info">
                <strong>ğŸ’¡</strong> Thread ä½¿ç”¨ IEEE 802.15.4 ç„¡ç·šé›»ï¼Œèˆ‡ WiFi/BLE ä½¿ç”¨ä¸åŒçš„é »æ®µï¼ˆ2.4 GHz ISM Bandï¼Œä½†ä¸åŒèª¿è®Šæ–¹å¼ï¼‰ï¼ŒIPRO7 åŒæ™‚æ”¯æ´ 802.15.4ã€WiFi å’Œ BLE ä¸‰ç¨®ç„¡ç·šé›»ã€‚
            </div>

            <h3>Thread ç¶²è·¯æ‹“æ’²</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Thread ç¶²ç‹€ç¶²è·¯æ‹“æ’²</span>
                </div>
                <pre><code>                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Border  â”‚â†â”€â”€ WiFi/Ethernet â”€â”€â†’ Internet
                    â”‚  Router  â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                         â”‚ Thread
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚          â”‚          â”‚
         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â” â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”
         â”‚ Router â”‚ â”‚ Leader â”‚ â”‚ Router â”‚
         â”‚ (FTD)  â”‚ â”‚ (FTD)  â”‚ â”‚ (FTD)  â”‚
         â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
             â”‚          â”‚          â”‚
        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â” â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”
        â”‚  End   â”‚ â”‚  End   â”‚ â”‚ Sleepy â”‚
        â”‚ Device â”‚ â”‚ Device â”‚ â”‚  End   â”‚
        â”‚ (MTD)  â”‚ â”‚ (MTD)  â”‚ â”‚ Device â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
            </div>

            <h3>è£ç½®è§’è‰²</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                <thead>
                    <tr style="border-bottom: 2px solid var(--border-color);">
                        <th style="padding: 0.75rem; text-align: left;">è§’è‰²</th>
                        <th style="padding: 0.75rem; text-align: left;">é¡å‹</th>
                        <th style="padding: 0.75rem; text-align: left;">èªªæ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Leader</strong></td>
                        <td style="padding: 0.75rem;">FTD</td>
                        <td style="padding: 0.75rem;">ç®¡ç†è·¯ç”±è¡¨èˆ‡ä½å€åˆ†é…ï¼Œæ¯å€‹åˆ†å€åªæœ‰ä¸€å€‹</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Router</strong></td>
                        <td style="padding: 0.75rem;">FTD</td>
                        <td style="padding: 0.75rem;">è½‰ç™¼å°åŒ…ã€ç¶­è­·è·¯ç”±è¡¨ã€æ”¯æ´å­è£ç½®</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>End Device</strong></td>
                        <td style="padding: 0.75rem;">MTD</td>
                        <td style="padding: 0.75rem;">åƒ…èˆ‡çˆ¶è·¯ç”±å™¨é€šè¨Šï¼Œä¸è½‰ç™¼å°åŒ…</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Sleepy End Device</strong></td>
                        <td style="padding: 0.75rem;">MTD</td>
                        <td style="padding: 0.75rem;">å¤§éƒ¨åˆ†æ™‚é–“ä¼‘çœ ï¼Œé©åˆé›»æ± è£ç½®</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><strong>Border Router</strong></td>
                        <td style="padding: 0.75rem;">FTD</td>
                        <td style="padding: 0.75rem;">æ©‹æ¥ Thread èˆ‡ WiFi/Ethernet ç¶²è·¯</td>
                    </tr>
                </tbody>
            </table>

            <h3>å…¸å‹æ‡‰ç”¨å ´æ™¯</h3>
            <ul>
                <li>æ™ºæ…§ç‡ˆæ³¡èˆ‡ç‡ˆå…·ï¼ˆRouter / End Deviceï¼‰</li>
                <li>é–€çª—æ„Ÿæ¸¬å™¨ï¼ˆSleepy End Deviceï¼‰</li>
                <li>æº«æ¿•åº¦æ„Ÿæ¸¬å™¨ï¼ˆSleepy End Deviceï¼‰</li>
                <li>æ™ºæ…§é–‹é—œèˆ‡æ’åº§ï¼ˆRouterï¼‰</li>
                <li>å‹•ä½œæ„Ÿæ¸¬å™¨ï¼ˆSleepy End Deviceï¼‰</li>
            </ul>
        </section>

        <section id="matter-over-wifi">
            <h2>Matter over WiFi</h2>
            <p>Matter over WiFi é€é WiFi æä¾›ç›´æ¥ IP é€£ç·šï¼Œé©åˆéœ€è¦è¼ƒé«˜é »å¯¬çš„è£ç½®ï¼Œç„¡éœ€ Border Router å³å¯é€£æ¥å®¶åº­ç¶²è·¯ã€‚</p>

            <h3>é©ç”¨å ´æ™¯</h3>
            <ul>
                <li>æ™ºæ…§æ”å½±æ©Ÿï¼ˆéœ€è¦é«˜é »å¯¬å½±åƒå‚³è¼¸ï¼‰</li>
                <li>æ™ºæ…§é¡¯ç¤ºå™¨</li>
                <li>æ™ºæ…§éŸ³ç®±</li>
                <li>å®¶é›»è¨­å‚™ï¼ˆå†°ç®±ã€æ´—è¡£æ©Ÿç­‰ï¼‰</li>
                <li>éœ€è¦å¿«é€Ÿå›æ‡‰çš„æ§åˆ¶è£ç½®</li>
            </ul>

            <h3>Matter over Thread vs WiFi æ¯”è¼ƒ</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                <thead>
                    <tr style="border-bottom: 2px solid var(--border-color);">
                        <th style="padding: 0.75rem; text-align: left;">ç‰¹æ€§</th>
                        <th style="padding: 0.75rem; text-align: left;">Thread</th>
                        <th style="padding: 0.75rem; text-align: left;">WiFi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;">åŠŸè€—</td>
                        <td style="padding: 0.75rem;">æ¥µä½ï¼ˆé©åˆé›»æ± è£ç½®ï¼‰</td>
                        <td style="padding: 0.75rem;">è¼ƒé«˜ï¼ˆéœ€è¦ç©©å®šä¾›é›»ï¼‰</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;">é »å¯¬</td>
                        <td style="padding: 0.75rem;">250 kbps</td>
                        <td style="padding: 0.75rem;">æ•¸ç™¾ Mbps</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;">ç¶²è·¯æ‹“æ’²</td>
                        <td style="padding: 0.75rem;">ç¶²ç‹€ç¶²è·¯ï¼ˆè‡ªæˆ‘ä¿®å¾©ï¼‰</td>
                        <td style="padding: 0.75rem;">æ˜Ÿç‹€ï¼ˆä¾è³´ APï¼‰</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;">Border Router</td>
                        <td style="padding: 0.75rem;">éœ€è¦</td>
                        <td style="padding: 0.75rem;">ä¸éœ€è¦</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;">æœ€å¤§ç¯€é»æ•¸</td>
                        <td style="padding: 0.75rem;">250+ï¼ˆç¶²ç‹€æ“´å±•ï¼‰</td>
                        <td style="padding: 0.75rem;">å—é™æ–¼ AP å®¹é‡</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;">é©ç”¨è£ç½®</td>
                        <td style="padding: 0.75rem;">æ„Ÿæ¸¬å™¨ã€é–‹é—œã€ç‡ˆå…·</td>
                        <td style="padding: 0.75rem;">æ”å½±æ©Ÿã€é¡¯ç¤ºå™¨ã€éŸ³ç®±</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="openthread">
            <h2>OpenThread</h2>
            <p>IPRO SDK æ•´åˆäº† Google é–‹æºçš„ OpenThread å¯¦ä½œï¼Œæä¾›å®Œæ•´çš„ Thread å”å®šæ£§ã€‚åŸå§‹ç¢¼ä½æ–¼ <code>components/wireless/thread/</code>ã€‚</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">OpenThread å…ƒä»¶çµæ§‹</span>
                </div>
                <pre><code>components/wireless/thread/
â”œâ”€â”€ CMakeLists.txt              # å»ºæ§‹é…ç½®
â”œâ”€â”€ Kconfig                     # è£ç½®é¡å‹é¸æ“‡ï¼ˆFTD/MTD/RCPï¼‰
â”œâ”€â”€ openthread/                 # OpenThread é–‹æºå”å®šæ£§
â”‚   â”œâ”€â”€ src/                    # æ ¸å¿ƒå¯¦ä½œ
â”‚   â”‚   â”œâ”€â”€ core/               #   Thread å”å®šæ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ cli/                #   CLI å‘½ä»¤ä»‹é¢
â”‚   â”œâ”€â”€ include/                # å…¬é–‹ API æ¨™é ­
â”‚   â””â”€â”€ examples/               # ç¯„ä¾‹èˆ‡å¹³å°ç§»æ¤
â””â”€â”€ openthread_port/            # IPRO7 å¹³å°ç§»æ¤å±¤
    â””â”€â”€ Kconfig                 #   å¹³å°ç‰¹å®šé…ç½®é¸é …</code></pre>
            </div>

            <h3>è£ç½®é¡å‹</h3>
            <p>é€é Kconfig é¸æ“‡ OpenThread è£ç½®é¡å‹ï¼š</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">è£ç½®é¡å‹é…ç½®</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># Full Thread Device â€” å¯è·¯ç”±ã€å¯æˆç‚º Leader/Router
CONFIG_OPENTHREAD_FTD=y

# Minimal Thread Device â€” åƒ…ç‚º End Deviceï¼Œçœé›»çœè¨˜æ†¶é«”
CONFIG_OPENTHREAD_MTD=y

# Radio Co-processor â€” 802.15.4 å°„é »ç”±å¤–éƒ¨ä¸»æ©Ÿæ§åˆ¶
CONFIG_OPENTHREAD_RADIO=y</code></pre>
            </div>

            <h3>OpenThread CLI</h3>
            <p>å•Ÿç”¨ <code>CONFIG_OPENTHREAD_CLI=y</code> å¾Œï¼Œå¯é€éåºåˆ—åŸ ä½¿ç”¨ <code>ot</code> å‘½ä»¤é€²è¡Œé–‹ç™¼èˆ‡é™¤éŒ¯ï¼š</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">å¸¸ç”¨ OpenThread CLI å‘½ä»¤</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># å»ºç«‹æ–°çš„ Thread ç¶²è·¯
ot dataset init new
ot dataset networkname MyThreadNet
ot dataset channel 15
ot dataset panid 0x1234
ot dataset commit active
ot ifconfig up
ot thread start

# æŸ¥è©¢ç‹€æ…‹
ot state                  # é¡¯ç¤ºè§’è‰²ï¼šdisabled/detached/child/router/leader
ot ipaddr                 # é¡¯ç¤º IPv6 ä½å€
ot neighbor table         # é¡¯ç¤ºé„°å±…è¡¨
ot router table           # é¡¯ç¤ºè·¯ç”±è¡¨ï¼ˆåƒ… FTDï¼‰

# ç¶²è·¯è¨ºæ–·
ot ping &lt;ipv6_address&gt;    # Ping å¦ä¸€å€‹è£ç½®
ot child table            # å­è£ç½®åˆ—è¡¨
ot parent                 # çˆ¶è£ç½®è³‡è¨Š</code></pre>
            </div>

            <h3>Commissioner èˆ‡ Joiner</h3>
            <p>Thread ä½¿ç”¨ Commissioner/Joiner æ©Ÿåˆ¶ä¾†å®‰å…¨åœ°å°‡æ–°è£ç½®åŠ å…¥ç¶²è·¯ï¼š</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Commissioner æ“ä½œï¼ˆå·²åœ¨ç¶²è·¯ä¸­çš„è£ç½®ï¼‰</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># å•Ÿå‹• Commissioner
ot commissioner start

# å…è¨±æ–°è£ç½®åŠ å…¥ï¼ˆ* è¡¨ç¤ºæ¥å—ä»»ä½•è£ç½®ï¼ŒJ01NME æ˜¯é å…±äº«é‡‘é‘°ï¼‰
ot commissioner joiner add * J01NME

# æŸ¥çœ‹ Commissioner ç‹€æ…‹
ot commissioner state</code></pre>
            </div>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Joiner æ“ä½œï¼ˆè¦åŠ å…¥çš„æ–°è£ç½®ï¼‰</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># ä½¿ç”¨é å…±äº«é‡‘é‘°åŠ å…¥
ot joiner start J01NME

# ç­‰å¾…åŠ å…¥æˆåŠŸè¨Šæ¯å¾Œ
ot ifconfig up
ot thread start</code></pre>
            </div>
        </section>

        <section id="reference-apps">
            <h2>åƒè€ƒæ‡‰ç”¨</h2>
            <p>IPRO SDK æä¾›å¤šå€‹ Matter èˆ‡ Thread åƒè€ƒæ‡‰ç”¨ç¨‹å¼ï¼š</p>

            <h3>Matter Lighting App</h3>
            <p>å¯¦ä½œ Matter On/Off Light è£ç½®é¡å‹ï¼ŒåŒ…å«é–‹é—œèˆ‡äº®åº¦æ§åˆ¶ Clusterã€‚</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">å»ºæ§‹ Matter Lighting App</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># å»ºæ§‹
make -C apps/matter/lighting-app

# åŸå§‹ç¢¼ä½ç½®
apps/matter/lighting-app/ipro/main.c       # æ‡‰ç”¨ç¨‹å¼é€²å…¥é»
apps/matter/lighting-app/ipro/defconfig     # é…ç½®æª”</code></pre>
            </div>
            <p>ä¸»è¦åŠŸèƒ½ï¼š</p>
            <ul>
                <li>OnOff Cluster â€” é–‹é—œæ§åˆ¶</li>
                <li>LevelControl Cluster â€” äº®åº¦èª¿ç¯€ï¼ˆ0-254ï¼‰</li>
                <li>Matter é…ç¶²ï¼ˆBLE Commissioningï¼‰</li>
                <li>Vendor ID: 0xFFF1 / Product ID: 0x8000 / Device Type: 256ï¼ˆOn/Off Lightï¼‰</li>
            </ul>

            <h3>Matter All-Clusters App</h3>
            <p>åŒ…å«æ‰€æœ‰æ¨™æº– Matter Cluster çš„æ¸¬è©¦æ‡‰ç”¨ç¨‹å¼ï¼Œç”¨æ–¼é–‹ç™¼èˆ‡é©—è­‰ã€‚</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">å»ºæ§‹ All-Clusters App</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># å»ºæ§‹
make -C apps/matter/all-clusters-app

# åŸå§‹ç¢¼ä½ç½®
apps/matter/all-clusters-app/ipro/main.c    # æ‡‰ç”¨ç¨‹å¼é€²å…¥é»
apps/matter/all-clusters-app/ipro/defconfig  # é…ç½®æª”</code></pre>
            </div>
            <p>ä¸»è¦åŠŸèƒ½ï¼š</p>
            <ul>
                <li>Root Nodeï¼ˆDevice Type: 17ï¼‰â€” åŒ…å«æ‰€æœ‰æ¨™æº– Cluster</li>
                <li>é©åˆ Matter èªè­‰æ¸¬è©¦èˆ‡åŠŸèƒ½é©—è­‰</li>
                <li>Vendor ID: 0xFFF1 / Product ID: 0x8001</li>
            </ul>

            <h3>Thread FTD CLI</h3>
            <p>Full Thread Device åƒè€ƒæ‡‰ç”¨ï¼Œæä¾›å®Œæ•´çš„ OpenThread CLI ä»‹é¢ï¼Œé©åˆ Thread ç¶²è·¯é–‹ç™¼èˆ‡æ¸¬è©¦ã€‚</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">å»ºæ§‹ Thread FTD CLI</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># ä½¿ç”¨ Make
make -C apps/ipro_thread_ftd_cli

# ä½¿ç”¨å»ºæ§‹è…³æœ¬
./build_freertos.sh ipro_thread_ftd_cli build

# å»ºæ§‹ç”¢å‡º
apps/ipro_thread_ftd_cli/build/build_out/ipro_thread_ftd_cli_IPRO7.bin</code></pre>
            </div>
            <p>ä¸»è¦åŠŸèƒ½ï¼š</p>
            <ul>
                <li>Full Thread Deviceï¼ˆRouter / Leaderï¼‰</li>
                <li>å®Œæ•´ OpenThread CLI å‘½ä»¤</li>
                <li>IEEE 802.15.4 å°„é »æ”¯æ´ï¼ˆTX Power: 20 dBmï¼‰</li>
                <li>mbedTLS ç¡¬é«”åŠ é€Ÿï¼ˆSHA-1/SHA-256/SHA-512ï¼‰</li>
                <li>Flash: 377KB / OCRAM: 96KB</li>
            </ul>
        </section>

        <section id="configuration">
            <h2>é…ç½®èªªæ˜</h2>

            <h3>Matter é…ç½®</h3>
            <p>åœ¨æ‡‰ç”¨ç¨‹å¼çš„ <code>defconfig</code> æˆ– <code>.config</code> ä¸­è¨­å®š Matter ç›¸é—œé¸é …ï¼š</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Matter é…ç½®é¸é …</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># å•Ÿç”¨ Matter
CONFIG_MATTER_ENABLE=y
CONFIG_COMPONENTS_MATTER_ENABLE=y

# è£ç½®è³‡è¨Š
CONFIG_MATTER_VENDOR_ID=0xFFF1          # CSA æ¸¬è©¦ç”¨ Vendor ID
CONFIG_MATTER_PRODUCT_ID=0x8000         # ç”¢å“ ID
CONFIG_MATTER_DEVICE_TYPE=256           # è£ç½®é¡å‹ï¼ˆ256 = On/Off Lightï¼‰

# å¿…è¦ä¾è³´
CONFIG_FREERTOS_SUPPORT=y               # FreeRTOS
CONFIG_COMPONENTS_MBEDTLS_ENABLE=y      # å®‰å…¨å±¤
CONFIG_COMPONENTS_LWIP_ENABLE=y         # IP ç¶²è·¯æ£§</code></pre>
            </div>

            <h3>Thread / OpenThread é…ç½®</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">OpenThread é…ç½®é¸é …</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># å•Ÿç”¨ Thread
CONFIG_THREAD_ENABLE=y
CONFIG_OPENTHREAD_ENABLE=y
CONFIG_IEEE802154_ENABLE=y

# è£ç½®é¡å‹ï¼ˆæ“‡ä¸€ï¼‰
CONFIG_OPENTHREAD_FTD=y                 # Full Thread Device
# CONFIG_OPENTHREAD_MTD=y              # Minimal Thread Device

# CLI ä»‹é¢
CONFIG_OPENTHREAD_CLI=y

# 802.15.4 å°„é »
CONFIG_IEEE802154_DEFAULT_TXPOWER=20    # TX åŠŸç‡ï¼ˆdBmï¼‰

# åŠŸèƒ½å•Ÿç”¨ï¼ˆä¾éœ€æ±‚é¸æ“‡ï¼‰
CONFIG_OPENTHREAD_COMMISSIONER=y        # Commissioner è§’è‰²
CONFIG_OPENTHREAD_JOINER=y              # Joiner è§’è‰²
CONFIG_OPENTHREAD_DHCP6_CLIENT=y        # DHCPv6 Client
CONFIG_OPENTHREAD_DHCP6_SERVER=y        # DHCPv6 Server
CONFIG_OPENTHREAD_DNS_CLIENT=y          # DNS Client
CONFIG_OPENTHREAD_BORDER_ROUTER=y       # Border Router åŠŸèƒ½

# è¨˜æ†¶é«”é…ç½®
CONFIG_OPENTHREAD_NUM_MESSAGE_BUFFERS=44
CONFIG_OPENTHREAD_MESSAGE_BUFFER_SIZE=128
CONFIG_OPENTHREAD_MLE_MAX_CHILDREN=16

# æ—¥èªŒç­‰ç´šï¼ˆ0=NONE, 1=CRIT, 2=WARN, 3=NOTE, 4=INFO, 5=DEBGï¼‰
CONFIG_OPENTHREAD_LOG_LEVEL=3</code></pre>
            </div>

            <div class="alert alert-info">
                <strong>ğŸ’¡</strong> åœç”¨æœªä½¿ç”¨çš„åŠŸèƒ½å¯é¡¯è‘—ç¯€çœè¨˜æ†¶é«”ï¼šCommissioner/Joiner ç´„éœ€ 150KBï¼ˆDTLS/SSLï¼‰ï¼ŒBorder Router ç´„éœ€ 30KBï¼ŒECDSA ç´„éœ€ 15KBï¼ŒSRP Client ç´„éœ€ 20KBã€‚
            </div>

            <h3>Matter over Thread vs WiFi é¸æ“‡</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">é¸æ“‡å‚³è¼¸å±¤</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># Matter over Threadï¼ˆä½åŠŸè€—è£ç½®ï¼‰
CONFIG_THREAD_ENABLE=y
CONFIG_OPENTHREAD_ENABLE=y
CONFIG_IEEE802154_ENABLE=y
# CONFIG_WIFI6 is not set

# Matter over WiFiï¼ˆé«˜é »å¯¬è£ç½®ï¼‰
CONFIG_WIFI6=y
CONFIG_COMPONENTS_LWIP_ENABLE=y
# CONFIG_THREAD_ENABLE is not set</code></pre>
            </div>
        </section>

        <section id="dev-workflow">
            <h2>é–‹ç™¼æµç¨‹</h2>

            <h3>1. é¸æ“‡åƒè€ƒæ‡‰ç”¨</h3>
            <p>æ ¹æ“šç›®æ¨™è£ç½®é¡å‹é¸æ“‡åˆé©çš„åƒè€ƒæ‡‰ç”¨ä½œç‚ºèµ·é»ï¼š</p>
            <ul>
                <li><strong>ç…§æ˜è£ç½®</strong> â€” ä»¥ <code>apps/matter/lighting-app</code> ç‚ºåŸºç¤</li>
                <li><strong>å¤šåŠŸèƒ½è£ç½®</strong> â€” ä»¥ <code>apps/matter/all-clusters-app</code> ç‚ºåŸºç¤</li>
                <li><strong>Thread ç¶²è·¯é–‹ç™¼</strong> â€” ä»¥ <code>apps/ipro_thread_ftd_cli</code> ç‚ºåŸºç¤</li>
            </ul>

            <h3>2. å»ºæ§‹éŸŒé«”</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">å»ºæ§‹æ­¥é©Ÿ</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># å»ºæ§‹ Matter Lighting App
make -C apps/matter/lighting-app

# å»ºæ§‹ Thread FTD CLI
make -C apps/ipro_thread_ftd_cli

# æ¸…é™¤å»ºæ§‹
make -C apps/ipro_thread_ftd_cli clean</code></pre>
            </div>

            <h3>3. ç‡’éŒ„èˆ‡æ¸¬è©¦</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">ç‡’éŒ„éŸŒé«”</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># ç‡’éŒ„åˆ°é–‹ç™¼æ¿
tools/ipro_iot_tool_lite/ipro_iot_tool_lite \
    --chipname ipro7 \
    --port /dev/cu.usbserial-2120 \
    --firmware apps/ipro_thread_ftd_cli/build/build_out/ipro_thread_ftd_cli_IPRO7.bin \
    --baudrate 921600 \
    --flash-pin 0x02

# é€£æ¥åºåˆ—åŸ ç›£æ§
python3 tools/serial_monitor.py /dev/cu.usbserial-2120</code></pre>
            </div>

            <h3>4. Matter é…ç¶²æ¸¬è©¦</h3>
            <ol>
                <li>ä½¿ç”¨ Google Home Appã€Apple Home App æˆ– chip-tool é€²è¡Œé…ç¶²</li>
                <li>æƒæè£ç½® QR Code æˆ–æ‰‹å‹•è¼¸å…¥é…å°ç¢¼</li>
                <li>è£ç½®åŠ å…¥ Matter Fabric å¾Œå³å¯æ§åˆ¶</li>
            </ol>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">ä½¿ç”¨ chip-tool æ¸¬è©¦ï¼ˆé–‹ç™¼ç”¨ï¼‰</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-bash"># é…ç¶²ï¼ˆCommissioningï¼‰
chip-tool pairing ble-thread &lt;node-id&gt; &lt;thread-dataset&gt; &lt;setup-pin-code&gt; &lt;discriminator&gt;

# æ§åˆ¶ On/Off
chip-tool onoff toggle &lt;node-id&gt; 1

# è®€å–å±¬æ€§
chip-tool onoff read on-off &lt;node-id&gt; 1

# è¨­å®šäº®åº¦
chip-tool levelcontrol move-to-level &lt;level&gt; 0 0 0 &lt;node-id&gt; 1</code></pre>
            </div>
        </section>

    </article>
</div>
