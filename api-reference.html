---
layout: default
title: API 參考
---

<div class="doc-layout">
    <aside class="doc-sidebar">
        <nav class="sidebar-nav">
            <h4 class="sidebar-title">API 分類</h4>
            <ul class="sidebar-links">
                <li class="sidebar-section-title">BLE API</li>
                <li><a href="#ble-core" class="sidebar-link">核心初始化</a></li>
                <li><a href="#ble-adv" class="sidebar-link">廣播 (Advertising)</a></li>
                <li><a href="#ble-conn" class="sidebar-link">連線管理</a></li>
                <li><a href="#ble-gatt-server" class="sidebar-link">GATT Server</a></li>
                <li><a href="#ble-gatt-client" class="sidebar-link">GATT Client</a></li>
                <li class="sidebar-section-title">HAL API</li>
                <li><a href="#hal-gpio" class="sidebar-link">GPIO</a></li>
                <li><a href="#hal-uart" class="sidebar-link">UART</a></li>
                <li><a href="#hal-spi" class="sidebar-link">SPI</a></li>
                <li><a href="#hal-i2c" class="sidebar-link">I2C</a></li>
                <li><a href="#hal-pwm" class="sidebar-link">PWM</a></li>
                <li><a href="#hal-adc" class="sidebar-link">ADC</a></li>
                <li class="sidebar-section-title">RTOS API</li>
                <li><a href="#rtos-freertos" class="sidebar-link">FreeRTOS</a></li>
                <li><a href="#rtos-zephyr" class="sidebar-link">Zephyr</a></li>
                <li class="sidebar-section-title">其他</li>
                <li><a href="#log-api" class="sidebar-link">Log API</a></li>
            </ul>
        </nav>
    </aside>

    <article class="doc-content">
        <h1>API 參考</h1>
        <p>本頁提供 IPRO SDK 主要 API 的參考文件。BLE API 使用 Zephyr 風格的 <code>bt_*</code> 回調式 API，HAL API 提供底層硬體存取。完整的 API 文件請參考原始碼中的標頭檔註解。</p>

        <!-- ==================== BLE Core ==================== -->

        <section id="ble-core">
            <h2>BLE 核心初始化</h2>
            <p>BLE 子系統使用 Zephyr 風格的 <code>bt_*</code> API。所有 BLE 操作前必須先呼叫 <code>bt_enable()</code>。</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">bluetooth/bluetooth.h</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 啟用藍牙子系統
 *  @param cb  完成回調函式，NULL 表示同步啟用
 *  @return 0 成功，負值錯誤碼
 */
int bt_enable(bt_ready_cb_t cb);

/** 設置藍牙裝置名稱
 *  @param name  新名稱字串
 *  @return 0 成功，負值錯誤碼
 */
int bt_set_name(const char *name);

/** 取得藍牙裝置名稱
 *  @return 裝置名稱字串
 */
const char *bt_get_name(void);</code></pre>
            </div>

            <h3>使用範例</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">BLE 初始化範例</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">#include &lt;bluetooth/bluetooth.h&gt;

static void bt_ready(int err)
{
    if (err) {
        printk("BLE init failed (err %d)\n", err);
        return;
    }
    printk("BLE initialized\n");
    // 可以開始廣播或掃描
}

void main(void)
{
    int err = bt_enable(bt_ready);
    if (err) {
        printk("bt_enable failed (err %d)\n", err);
    }
}</code></pre>
            </div>
        </section>

        <!-- ==================== BLE Advertising ==================== -->

        <section id="ble-adv">
            <h2>BLE 廣播 (Advertising)</h2>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">bluetooth/bluetooth.h</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 開始 BLE 廣播
 *  @param param  廣播參數（間隔、類型、選項）
 *  @param ad     廣播資料陣列
 *  @param ad_len 廣播資料數量
 *  @param sd     掃描回應資料陣列
 *  @param sd_len 掃描回應資料數量
 *  @return 0 成功，負值錯誤碼
 */
int bt_le_adv_start(const struct bt_le_adv_param *param,
                    const struct bt_data *ad, size_t ad_len,
                    const struct bt_data *sd, size_t sd_len);

/** 停止 BLE 廣播
 *  @return 0 成功，負值錯誤碼
 */
int bt_le_adv_stop(void);</code></pre>
            </div>

            <h3>廣播參數常用宏</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">常用廣播配置</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">// 可連線廣播（預設間隔）
BT_LE_ADV_CONN

// 自訂廣播參數
BT_LE_ADV_PARAM(options, int_min, int_max, peer)

// 廣播資料建構
BT_DATA_BYTES(type, ...)        // 位元組資料
BT_DATA(type, data, data_len)   // 緩衝區資料</code></pre>
            </div>

            <h3>使用範例</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">廣播範例</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">static const struct bt_data ad[] = {
    BT_DATA_BYTES(BT_DATA_FLAGS, (BT_LE_AD_GENERAL | BT_LE_AD_NO_BREDR)),
    BT_DATA_BYTES(BT_DATA_UUID16_ALL, 0x0d, 0x18),  // Heart Rate Service
};

static const struct bt_data sd[] = {
    BT_DATA(BT_DATA_NAME_COMPLETE, "IPRO-Device", 11),
};

// 開始可連線廣播
int err = bt_le_adv_start(BT_LE_ADV_CONN, ad, ARRAY_SIZE(ad), sd, ARRAY_SIZE(sd));</code></pre>
            </div>
        </section>

        <!-- ==================== BLE Connection ==================== -->

        <section id="ble-conn">
            <h2>BLE 連線管理</h2>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">bluetooth/conn.h</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 建立 LE 連線（Central 端）
 *  @param peer   遠端裝置地址
 *  @param param  連線參數
 *  @return 連線物件指標，NULL 表示失敗
 */
struct bt_conn *bt_conn_create_le(const bt_addr_le_t *peer,
                                  const struct bt_le_conn_param *param);

/** 斷開連線
 *  @param conn    連線物件
 *  @param reason  斷線原因碼 (BT_HCI_ERR_*)
 *  @return 0 成功，負值錯誤碼
 */
int bt_conn_disconnect(struct bt_conn *conn, u8_t reason);

/** 增加連線參考計數 */
struct bt_conn *bt_conn_ref(struct bt_conn *conn);

/** 減少連線參考計數 */
void bt_conn_unref(struct bt_conn *conn);

/** 連線參數更新
 *  @param conn   連線物件
 *  @param param  新的連線參數
 *  @return 0 成功，負值錯誤碼
 */
int bt_conn_le_param_update(struct bt_conn *conn,
                            const struct bt_le_conn_param *param);</code></pre>
            </div>

            <h3>連線回調</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">連線事件回調</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">static void connected(struct bt_conn *conn, u8_t err)
{
    if (err) {
        printk("Connection failed (err 0x%02x)\n", err);
    } else {
        printk("Connected\n");
    }
}

static void disconnected(struct bt_conn *conn, u8_t reason)
{
    printk("Disconnected (reason 0x%02x)\n", reason);
}

static struct bt_conn_cb conn_callbacks = {
    .connected = connected,
    .disconnected = disconnected,
};

// 註冊回調
bt_conn_cb_register(&conn_callbacks);</code></pre>
            </div>
        </section>

        <!-- ==================== GATT Server ==================== -->

        <section id="ble-gatt-server">
            <h2>GATT Server</h2>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">bluetooth/gatt.h - Server API</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 註冊 GATT 服務
 *  @param svc  服務定義結構
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_service_register(struct bt_gatt_service *svc);

/** 發送 GATT Notification
 *  @param conn   連線物件 (NULL = 所有已訂閱的連線)
 *  @param params 通知參數（屬性、資料、長度、回調）
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_notify_cb(struct bt_conn *conn,
                      struct bt_gatt_notify_params *params);

/** 簡化版 Notify（無回調）
 *  @param conn  連線物件
 *  @param attr  屬性指標
 *  @param data  資料指標
 *  @param len   資料長度
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_notify(struct bt_conn *conn, const struct bt_gatt_attr *attr,
                   const void *data, u16_t len);

/** 發送 GATT Indication
 *  @param conn   連線物件
 *  @param params Indication 參數
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_indicate(struct bt_conn *conn,
                     struct bt_gatt_indicate_params *params);</code></pre>
            </div>

            <h3>服務定義範例</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">自訂 GATT 服務</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">// 自訂服務 UUID
static struct bt_uuid_128 my_svc_uuid = BT_UUID_INIT_128(
    0x01, 0x23, 0x45, 0x67, 0x89, 0xab, 0xcd, 0xef,
    0x01, 0x23, 0x45, 0x67, 0x89, 0xab, 0xcd, 0xef);

// 讀取回調
static ssize_t read_value(struct bt_conn *conn,
                          const struct bt_gatt_attr *attr,
                          void *buf, u16_t len, u16_t offset)
{
    return bt_gatt_attr_read(conn, attr, buf, len, offset,
                             &my_value, sizeof(my_value));
}

// 服務定義
BT_GATT_SERVICE_DEFINE(my_svc,
    BT_GATT_PRIMARY_SERVICE(&my_svc_uuid),
    BT_GATT_CHARACTERISTIC(&my_char_uuid.uuid,
        BT_GATT_CHRC_READ | BT_GATT_CHRC_NOTIFY,
        BT_GATT_PERM_READ,
        read_value, NULL, NULL),
    BT_GATT_CCC(NULL, BT_GATT_PERM_READ | BT_GATT_PERM_WRITE),
);</code></pre>
            </div>
        </section>

        <!-- ==================== GATT Client ==================== -->

        <section id="ble-gatt-client">
            <h2>GATT Client</h2>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">bluetooth/gatt.h - Client API</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 服務/特徵探索
 *  @param conn   連線物件
 *  @param params 探索參數（UUID、回調、範圍）
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_discover(struct bt_conn *conn,
                     struct bt_gatt_discover_params *params);

/** 讀取遠端屬性
 *  @param conn   連線物件
 *  @param params 讀取參數（handle、回調）
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_read(struct bt_conn *conn,
                 struct bt_gatt_read_params *params);

/** 寫入遠端屬性（需回應）
 *  @param conn   連線物件
 *  @param params 寫入參數（handle、資料、回調）
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_write(struct bt_conn *conn,
                  struct bt_gatt_write_params *params);

/** 寫入遠端屬性（無需回應，高吞吐）
 *  @param conn   連線物件
 *  @param handle 屬性 handle
 *  @param data   資料指標
 *  @param length 資料長度
 *  @param sign   是否簽名
 *  @return 0 成功，負值錯誤碼
 */
int bt_gatt_write_without_response_cb(struct bt_conn *conn,
    u16_t handle, const void *data, u16_t length, bool sign);</code></pre>
            </div>
        </section>

        <!-- ==================== HAL GPIO ==================== -->

        <section id="hal-gpio">
            <h2>GPIO API</h2>
            <p>標頭檔：<code>bsp/hal/inc/hal_gpio.h</code></p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">GPIO 函式</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 設置 GPIO 模式
 *  @param pin   腳位編號 (GPIO_PIN_0 ~ GPIO_PIN_31)
 *  @param mode  模式 (GPIO_OUTPUT_MODE, GPIO_INPUT_PP_MODE, ...)
 */
void gpio_set_mode(uint32_t pin, uint32_t mode);

/** 寫入 GPIO 輸出值
 *  @param pin    腳位編號
 *  @param value  0 (低) 或 1 (高)
 */
void gpio_write(uint32_t pin, uint32_t value);

/** 切換 GPIO 輸出 */
void gpio_toggle(uint32_t pin);

/** 讀取 GPIO 輸入值
 *  @return 0 或 1
 */
int gpio_read(uint32_t pin);

/** 附加中斷回調
 *  @param pin    腳位編號
 *  @param cbfun  中斷回調函式
 */
void gpio_attach_irq(uint32_t pin, void (*cbfun)(uint32_t pin));

/** 啟用/停用 GPIO 中斷
 *  @param pin     腳位編號
 *  @param enabled 1=啟用, 0=停用
 */
void gpio_irq_enable(uint32_t pin, uint8_t enabled);</code></pre>
            </div>

            <h3>GPIO 模式常數</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>常數</th>
                            <th>值</th>
                            <th>說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><code>GPIO_OUTPUT_MODE</code></td><td>0</td><td>推挽輸出</td></tr>
                        <tr><td><code>GPIO_OUTPUT_PP_MODE</code></td><td>1</td><td>上拉輸出</td></tr>
                        <tr><td><code>GPIO_OUTPUT_PD_MODE</code></td><td>2</td><td>下拉輸出</td></tr>
                        <tr><td><code>GPIO_INPUT_MODE</code></td><td>3</td><td>浮空輸入</td></tr>
                        <tr><td><code>GPIO_INPUT_PP_MODE</code></td><td>4</td><td>上拉輸入</td></tr>
                        <tr><td><code>GPIO_INPUT_PD_MODE</code></td><td>5</td><td>下拉輸入</td></tr>
                        <tr><td><code>GPIO_ASYNC_RISING_TRIGER_INT_MODE</code></td><td>6</td><td>非同步上升沿中斷</td></tr>
                        <tr><td><code>GPIO_ASYNC_FALLING_TRIGER_INT_MODE</code></td><td>7</td><td>非同步下降沿中斷</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- ==================== HAL UART ==================== -->

        <section id="hal-uart">
            <h2>UART API</h2>
            <p>標頭檔：<code>bsp/hal/inc/hal_uart.h</code></p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">UART 函式</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 初始化 UART
 *  @param uart_id  UART 索引 (UART0_INDEX, UART1_INDEX)
 *  @param oflag    開啟旗標
 *  @return 0 成功
 */
int uart_init(int uart_id, uint16_t oflag);

/** 反初始化 UART */
int uart_uninit(int uart_id);

/** 發送資料
 *  @param uart_id  UART 索引
 *  @param buffer   資料緩衝區
 *  @param size     資料長度
 *  @return 實際發送位元組數
 */
int uart_write(int uart_id, const void *buffer, uint32_t size);

/** 接收資料
 *  @param uart_id  UART 索引
 *  @param buffer   接收緩衝區
 *  @param size     最大接收長度
 *  @return 實際接收位元組數
 */
int uart_read(int uart_id, void *buffer, uint32_t size);

/** 非阻塞讀取可用資料 */
int uart_read_available(int uart_id, void *buffer, uint32_t max_size);

/** 設置鮑率 */
void uart_set_baudrate(int uart_id, int baudrate);

/** 設置回調函式 */
void uart_set_callback(int uart_id, void *args);

/** UART IO 控制 */
int uart_ioctl(int uart_id, int cmd, void *args);</code></pre>
            </div>
        </section>

        <!-- ==================== HAL SPI ==================== -->

        <section id="hal-spi">
            <h2>SPI API</h2>
            <p>標頭檔：<code>bsp/hal/inc/hal_spi.h</code></p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">SPI 函式</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 初始化 SPI */
int spi_init(int spi_id);

/** 反初始化 SPI */
int spi_deinit(int spi_id);

/** 設置 SPI 配置 */
void spi_setConfig(spi_device_t *dev);

/** 啟用/停用 SPI */
int spi_enable(int spi_id, int en);

/** 發送資料 */
int spi_transmit(int spi_id, void *buffer, uint32_t size);

/** 接收資料 */
int spi_receive(int spi_id, void *buffer, uint32_t size);

/** 全雙工傳輸 */
int spi_transmit_receive(int spi_id, const void *send_buf,
                         void *recv_buf, uint32_t length);</code></pre>
            </div>
        </section>

        <!-- ==================== HAL I2C ==================== -->

        <section id="hal-i2c">
            <h2>I2C API</h2>
            <p>標頭檔：<code>bsp/hal/inc/hal_i2c.h</code></p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">I2C 函式</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 初始化 I2C */
int i2c_init(int i2c_id);

/** I2C 訊息傳輸
 *  @param i2c_id  I2C 索引 (I2C0_INDEX, I2C1_INDEX)
 *  @param msgs    訊息陣列
 *  @param num     訊息數量
 *  @return 0 成功
 */
int i2c_transfer(int i2c_id, i2c_msg_t msgs[], uint32_t num);

// i2c_msg_t 結構
typedef struct i2c_msg {
    uint8_t  slaveaddr;  // 從機地址
    uint32_t subaddr;    // 暫存器/子地址
    uint16_t flags;      // I2C_WR(0) 或 I2C_RD(1) | SUB_ADDR_xBYTE
    uint16_t len;        // 資料長度
    uint8_t  *buf;       // 資料緩衝區
} i2c_msg_t;</code></pre>
            </div>
        </section>

        <!-- ==================== HAL PWM ==================== -->

        <section id="hal-pwm">
            <h2>PWM API</h2>
            <p>標頭檔：<code>bsp/hal/inc/hal_pwm.h</code></p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">PWM 函式</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 初始化 PWM 通道 */
int pwm_init(int pwm_id, uint16_t caps);

/** PWM IO 控制 */
int pwm_ioctl(int pwm_id, int cmd, void *args);

/** 關閉 PWM 通道 */
int pwm_close(int pwm_id, int ch);

// 便利宏
pwm_channel_start(dev)                  // 啟動 PWM
pwm_channel_stop(dev)                   // 停止 PWM
pwm_channel_freq_update(dev, count)     // 更新頻率
pwm_channel_dutycycle_update(dev, cfg)  // 更新占空比</code></pre>
            </div>
        </section>

        <!-- ==================== HAL ADC ==================== -->

        <section id="hal-adc">
            <h2>ADC API</h2>
            <p>標頭檔：<code>bsp/hal/inc/hal_adc.h</code></p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">ADC 函式</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">/** 初始化 ADC */
int hal_adc_init(int adc_id);

/** 讀取 ADC 資料
 *  @param adc_id  ADC 索引
 *  @param buffer  資料緩衝區
 *  @param size    讀取大小
 *  @return 實際讀取位元組數
 */
int hal_adc_read(int adc_id, void *buffer, uint32_t size);

/** ADC IO 控制 */
int hal_adc_ioctl(int adc_id, int cmd, void *args);

/** 獲取溫度感測器值 */
float hal_adc_get_tsen(uint16_t tsen_offset);

// 便利宏
adc_channel_start(index)          // 啟動 ADC 通道
adc_channel_stop(index)           // 停止 ADC 通道
adc_channel_config(index, list)   // 配置 ADC 通道</code></pre>
            </div>
        </section>

        <!-- ==================== RTOS ==================== -->

        <section id="rtos-freertos">
            <h2>FreeRTOS API</h2>
            <p>SDK 主要使用 FreeRTOS 作為即時作業系統。</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">任務管理</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">// 建立任務
BaseType_t xTaskCreate(TaskFunction_t pvTaskCode,
                       const char *pcName,
                       configSTACK_DEPTH_TYPE usStackDepth,
                       void *pvParameters,
                       UBaseType_t uxPriority,
                       TaskHandle_t *pxCreatedTask);

// 延遲任務
void vTaskDelay(const TickType_t xTicksToDelay);

// 毫秒轉 Ticks
#define pdMS_TO_TICKS(xTimeInMs)

// 信號量
SemaphoreHandle_t xSemaphoreCreateBinary(void);
SemaphoreHandle_t xSemaphoreCreateMutex(void);
BaseType_t xSemaphoreTake(SemaphoreHandle_t sem, TickType_t timeout);
BaseType_t xSemaphoreGive(SemaphoreHandle_t sem);

// 佇列
QueueHandle_t xQueueCreate(UBaseType_t length, UBaseType_t itemSize);
BaseType_t xQueueSend(QueueHandle_t queue, const void *item, TickType_t timeout);
BaseType_t xQueueReceive(QueueHandle_t queue, void *buffer, TickType_t timeout);</code></pre>
            </div>
        </section>

        <section id="rtos-zephyr">
            <h2>Zephyr API</h2>
            <p>部分應用（Thread、Zephyr Demo）使用 Zephyr RTOS。</p>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Kernel API</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">// 休眠
void k_sleep(k_timeout_t timeout);

// 建立執行緒
k_tid_t k_thread_create(struct k_thread *new_thread,
                        k_thread_stack_t *stack,
                        size_t stack_size,
                        k_thread_entry_t entry,
                        void *p1, void *p2, void *p3,
                        int prio, uint32_t options,
                        k_timeout_t delay);

// 時間宏
K_SECONDS(s)
K_MSEC(ms)
K_FOREVER</code></pre>
            </div>
        </section>

        <!-- ==================== Log ==================== -->

        <section id="log-api">
            <h2>Log API</h2>
            <p>統一的日誌輸出介面。</p>

            <h3>IPRO Log API</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">日誌函式</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">// 日誌輸出宏
IPRO_LOG_ERROR(tag, fmt, ...)   // 錯誤等級
IPRO_LOG_WARN(tag, fmt, ...)    // 警告等級
IPRO_LOG_INFO(tag, fmt, ...)    // 資訊等級
IPRO_LOG_DEBUG(tag, fmt, ...)   // 除錯等級
IPRO_LOG_VERBOSE(tag, fmt, ...) // 詳細等級

// 使用範例
#define TAG "MY_MODULE"
IPRO_LOG_INFO(TAG, "System started, version %d.%d", major, minor);</code></pre>
            </div>

            <h3>Zephyr Log API</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Zephyr 日誌</span>
                    <button class="code-copy-btn"><i class="fas fa-copy"></i></button>
                </div>
                <pre><code class="language-c">#include &lt;zephyr/logging/log.h&gt;

// 註冊日誌模組
LOG_MODULE_REGISTER(my_module, LOG_LEVEL_INF);

// 日誌輸出
LOG_ERR("Error message");
LOG_WRN("Warning message");
LOG_INF("Info message");
LOG_DBG("Debug message");</code></pre>
            </div>
        </section>
    </article>
</div>
